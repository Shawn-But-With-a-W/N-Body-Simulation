<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>N-Body Simulation</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src='calc.js' defer></script>
    <script src='render.js' defer></script>
    <script src='input.js' defer></script>
    <script src='camera.js' defer></script>

    <!-- Import Google icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
</head>

<body>    
    <canvas id="canvas" width="1920" height="1080">No canvas avaliable</canvas>
    <canvas id="overlay-canvas" width="1920" height="1080">No canvas avaliable</canvas>
    
    <div id="input-panel-right">
        <p class="dropdown" id="body-dropdown">
            <span class="material-symbols-outlined" id="body-icon">expand_less</span>
            New Body Settings
        </p>
        <div id="body-settings">
            <div class="button-separator">
                <button id="reset-body" onclick="resetBody()">Reset Body Settings</button>
                <button id="new-body" onclick="createBodyButton()">Add body</button>
            </div>


            <div class="input-separator">
                <p class="label">Radius</p>
                <input type="range" min="1" max="99" value="10" step="0.01" class="slider body-slider" id="radius-slider" oninput="syncNum()">
                <input type="number" class="slider-num" id="radius-num" min="1" max="99" value="10" onchange="syncSlider()">
                <p class="unit">km</p>
            </div>

            <div class="input-separator">
                <p class="label">Mass</p>
                <input type="range" min="1" max="9999" value="1000" step="0.01" class="slider body-slider" id="mass-slider" oninput="syncNum()">
                <input type="number" class="slider-num" id="mass-num" min="1" max="9999" value="1000" onchange="syncSlider()">
                <p class="unit">10^18 kg</p>
            </div>

            <div class="input-separator">
                <p class="label">Colour</p>
                <input id="colour" value="#71aff8" type="color" onchange="syncSettings()">
            </div>

            <div class="input-separator">
                <p class="label">X-Coord</p>
                <input type="number" id="x-pos-num" value="0" onchange="syncSettings()">
                <p class="unit">km</p>
            </div>

            <div class="input-separator">
                <p class="label">Y-Coord</p>
                <input type="number" id="y-pos-num" value="0" onchange="syncSettings()">
                <p class="unit">km</p>
            </div>

            <div class="input-separator">
                <p class="label">X-Velocity</p>
                <input type="range" min="-20" max="20" value="0" step="0.01" class="slider body-slider" id="x-vel-slider" oninput="syncNum()">
                <input type="number" class="slider-num" id="x-vel-num" min="-20" max="20" value="0" onchange="syncSlider()">
                <p class="unit">km/s</p>
            </div>

            <div class="input-separator">
                <p class="label">Y-Velocity</p>
                <input type="range" min="-20" max="20" value="0" step="0.01" class="slider body-slider" id="y-vel-slider" oninput="syncNum()">
                <input type="number" class="slider-num" id="y-vel-num" min="-20" max="20" value="0" onchange="syncSlider()">
                <p class="unit">km/s</p>
            </div>
        </div>
        
        <p class="dropdown" id="general-dropdown">
            <span class="material-symbols-outlined" id="general-icon">expand_less</span>
            General Settings
        </p>
        <div id="general-settings">
            <div class="button-separator">
                <button id="reset-general" onclick="resetGeneral()">Reset General Settings</button>
                <button id="remove" onclick="remove()">Remove all Bodies</button>
            </div>

            <div class="button-separator">
                <button id="reset-zoom" onclick="resetZoom()">Reset Camera Zoom</button>
                <button id="reset-pan" onclick="resetPan()">Reset Camera Pan</button>
            </div>

            <div class="button-separator">
                <button id="pause" onclick="pause()">Pause</button>
            </div>

            

            <div class="input-separator">
                <p class="label">Trail Length</p>
                <input type="range" min="0" max="100" value="15" class="slider general-slider" id="trail-slider" oninput="syncNum()">
                <input type="number" class="slider-num" min="0" max="100" value="15" id="trail-num" onchange="syncSlider()">
            </div>

            <div class="input-separator">
                <p class="label">Time Step</p>
                <input type="range" min="0.01" max="25" value="1" step="0.01" class="slider general-slider" id="t-slider" oninput="syncNum()">
                <input type="number" class="slider-num" min="0" max="25" value="1" id="t-num" onchange="syncSlider()">
                <p class="unit">s</p>
            </div>
        </div>
    </div>

    <div id="input-panel-left">
        
        <p class="dropdown" id="advanced-dropdown">
            <span class="material-symbols-outlined" id="advanced-icon">expand_more</span>
            Advanced Settings
        </p>

        <div id="advanced-settings">
            <div class="button-separator">
                <button id="reset-advanced" onclick="resetAdvanced()">Reset Advanced Settings</button>
            </div>

            <div class="button-separator">
                <button id="invert-y" onclick="invertY()">Invert Y: OFF</button>
                <button id="disable-sliders" onclick=""
            </div>

            <div class="input-separator">
                <p class="label">G</p>
                <input id="G" value="0.0000000000667428" onchange="syncSettings()">
                <p class="unit" id="G-unit">m^3 kg^-2 s^-2</p>
            </div>

            <div class="input-separator">
                <p class="label">Softening Constant</p>
                <input type="range" min="0" max="9999" value="250" step="0.01" class="slider advanced-slider" id="softening-slider" oninput="syncNum()">
                <input type="number" class="slider-num" id="softening-num" min="0" max="9999" value="100" onchange="syncSlider()">
                <p class="unit">km</p>
            </div>

            <div class="input-separator">
                <p class="label">Velocity Cap</p>
                <input type="range" min="0" max="999" value="20" step="0.01" class="slider advanced-slider" id="vel-cap-slider" oninput="syncNum()">
                <input type="number" class="slider-num" id="vel-cap-num" min="0" max="999" value="20" onchange="syncSlider()">
                <p class="unit">km/s</p>
            </div>

            <div class="input-separator">
                <p class="label">Drag Multiplier</p>
                <input type="range" min="0" max="100" value="25" step="0.01" class="slider advanced-slider" id="drag-mult-slider" oninput="syncNum()">
                <input type="number" class="slider-num" id="drag-mult-num" min="0" max="100" value="25" onchange="syncSlider()">
            </div>

            <div class="input-separator">
                <p class="label">Drag Indicator Width</p>
                <input type="range" min="0" max="50" value="2" step="1" class="slider advanced-slider" id="drag-width-slider" oninput="syncNum()">
                <input type="number" class="slider-num" id="drag-width-num" min="0" max="50" value="2" onchange="syncSlider()">
                <p class="unit">px</p>
            </div>

            <div class="input-separator">
                <p class="label">Drag Indicator Colour</p>
                <input id="drag-colour" value="#7a71f8" type="color" onchange="syncSettings()">
            </div>

        </div>
    </div>
</body>
</html>

<!-- 
    TODO:
    - Add disable slider option for unlimited inputs
    - Add scrollwheel multiplier
    - Add invert y in advanced options
    - Add instruction display
    - Add tooltips
-->